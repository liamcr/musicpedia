(this.webpackJsonpmusipedia=this.webpackJsonpmusipedia||[]).push([[0],{112:function(e,a,t){},113:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),l=t.n(c),i=(t(89),t(4)),o=t(34),s=t(30),m=t(47),u=t.n(m),d=t(41),p=t(67),E=t(68),h=t(75),f=t(69),g=t.n(f),y={clientID:"37ee8313ef2e4b628637c5c8d2c9f070",redirectURI:"https://liamcr.github.io/musipedia/home/",scopes:["user-top-read","user-library-read","streaming","user-read-email","user-read-private","user-modify-playback-state"],homePageURL:"https://liamcr.github.io/musipedia"},b=function(e){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(h.a)(a,e),a}(r.a.Component);b.apiRequest=function(e,a,t,n){var r;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.a.awrap(g()({method:e,url:a,data:0===Object.entries(n).length?{}:JSON.stringify(n),headers:{Authorization:"Bearer "+t}}));case 2:return r=c.sent,c.abrupt("return",r);case 4:case"end":return c.stop()}}))},b.buildAuthenticationURI=function(){var e="https://accounts.spotify.com/authorize?client_id=".concat(y.clientID);return e=(e=(e=e.concat("&redirect_uri=".concat(encodeURIComponent(y.redirectURI)))).concat("&scope=".concat(encodeURIComponent(y.scopes.join(" "))))).concat("&response_type=token")},b.isTokenExpired=function(){var e=Math.floor(Date.now()/1e3),a=sessionStorage.getItem("musicInfoTokenExpiration");return!(null!==a&&e<parseInt(a))},b.isLoggedIn=function(){return null!==sessionStorage.getItem("musicInfoSpotifyAccessToken")&&!b.isTokenExpired()},b.parseURLHash=function(){var e=window.location.hash.substring(1),a='{"'.concat(e.replace(/&/g,'","').replace(/=/g,'":"'),'"}');return e?JSON.parse(a):{}},b.handleLogin=function(){"?error=access_denied"===window.location.search&&(window.location.href=y.homePageURL);var e=b.parseURLHash();if(e.hasOwnProperty("access_token")){var a=Math.floor(Date.now()/1e3);if(e.access_token!==sessionStorage.getItem("musicInfoSpotifyAccessToken")){var t=a+parseInt(e.expires_in);sessionStorage.setItem("musicInfoSpotifyAccessToken",e.access_token),sessionStorage.setItem("musicInfoTokenExpiration",t.toString())}else b.isTokenExpired()&&(window.location.href=y.homePageURL)}else null===sessionStorage.getItem("musicInfoSpotifyAccessToken")?window.location.href=y.homePageURL:b.isTokenExpired()&&(window.location.href=y.homePageURL)};var v=t(70),S=t(132),k=t(114),x=t(162),j=t(134),w=Object(v.a)({card:{padding:10,margin:"20vh auto",minWidth:235,maxWidth:"20%"}});function O(){var e=w();return r.a.createElement(S.a,{className:e.card},r.a.createElement(k.a,{variant:"h3",gutterBottom:!0},"Welcome!"),r.a.createElement(k.a,{paragraph:!0},"To start exploring tracks, albums, and artists, log into Spotify below!"),r.a.createElement(x.a,{textAlign:"center"},r.a.createElement(j.a,{color:"primary",variant:"contained",href:b.buildAuthenticationURI()},"Log In")))}var I=Object(v.a)({container:{textAlign:"center",margin:"24px auto"}});function N(){var e=I();return r.a.createElement(x.a,{className:e.container},r.a.createElement(k.a,{variant:"h1"},"404"),r.a.createElement(k.a,{variant:"h2",color:"textSecondary"},"Page not found"))}var T=t(146),A=t(13),R=t(3),C=t(135),B=t(136),L=t(165),P=t(140),M=t(141),U=t(143),W=t(144),G=t(145),_=t(137),D=t(142),q=Object(v.a)((function(e){return{card:{lineHeight:0,borderRadius:0,width:"100%"},cardOpen:{height:"auto"},preliminaryInfo:{display:"inline-flex",width:"100%"},cardContent:{"&:last-child":{paddingBottom:"16px"}},dataImage:{height:"10vh",minHeight:"100px",width:"10vh",minWidth:"100px"},details:{margin:"auto 10px",flex:1,overflowX:"auto"},collapsedDataEntry:{width:"50%",display:"inline-block"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},moreInfoButton:{position:"relative",right:0}}}));function H(e){var a,t=q(),c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1],m=function(e){var a=Math.floor(e/1e3),t=Math.floor(a/3600),n=Math.floor(a/60)%60,r=a-60*n-3600*t;return"".concat(t>0?"".concat(t,":"):"").concat(t>0?("0"+n).slice(-2):n,":").concat(("0"+r).slice(-2))},u=function(e){return e.slice(1).reduce((function(e,a){return"".concat(e,", ").concat(a)}),e[0])},d=function(e){return e.map((function(e,a){return r.a.createElement(x.a,{className:t.collapsedDataEntry,key:a},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"".concat(e[0]," ")),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},e[1]))}))};"track"===e.dataType?a={id:e.data.id,heading:e.data.name,firstSubtitle:e.data.album.name,secondSubtitle:u(e.data.artists.map((function(e){return e.name}))),dataImageUrl:e.data.album.images[0].url,collapsedData:{Duration:m(e.data.duration_ms),Explicit:e.data.explicit?"Yes":"No",Popularity:e.data.popularity}}:"artist"===e.dataType?a={id:e.data.id,heading:e.data.name,dataImageUrl:e.data.images.length>0?e.data.images[0].url:null,collapsedData:{Followers:e.data.followers.total.toLocaleString(),Popularity:e.data.popularity}}:"album"===e.dataType&&(a={id:e.data.id,heading:e.data.name,firstSubtitle:u(e.data.artists.map((function(e){return e.name}))),dataImageUrl:e.data.images[0].url,collapsedData:{Duration:m(e.data.tracks.items.reduce((function(e,a){return e+a.duration_ms}),0)),Tracks:e.data.total_tracks,Popularity:e.data.popularity,Year:e.data.release_date.slice(0,4)}});var p=Object.entries(a.collapsedData);return r.a.createElement(S.a,{className:Object(R.a)(t.card,Object(A.a)({},t.cardOpen,o)),elevation:0},r.a.createElement(x.a,{className:t.preliminaryInfo},null!==a.dataImageUrl?r.a.createElement(C.a,{className:t.dataImage,image:a.dataImageUrl,title:"artist"===e.dataType?"Artist":"Album Art"}):r.a.createElement(B.a,{className:t.dataImage},r.a.createElement(_.a,{className:t.dataImage})),r.a.createElement(x.a,{className:t.details},r.a.createElement(L.a,{title:"".concat(a.heading)},r.a.createElement(k.a,{noWrap:!0,variant:"h5"},"".concat(a.heading))),a.firstSubtitle&&r.a.createElement(k.a,{noWrap:!0,variant:"body1",color:"textSecondary"},"".concat(a.firstSubtitle)),a.secondSubtitle&&r.a.createElement(k.a,{noWrap:!0,variant:"body1",color:"textSecondary"},"".concat(a.secondSubtitle))),r.a.createElement(P.a,{disableSpacing:!0},r.a.createElement(M.a,{className:Object(R.a)(t.expand,Object(A.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more"},r.a.createElement(D.a,null)))),r.a.createElement(U.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(W.a,{className:t.cardContent},r.a.createElement(x.a,null,d(p.slice(0,2)),d(p.slice(2))),r.a.createElement(G.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-end"},r.a.createElement(j.a,{className:t.moreInfoButton,color:"primary",href:"".concat(y.homePageURL,"/").concat(e.dataType,"/").concat(a.id)},"More Info")))))}var z=Object(v.a)({listNotLoaded:{display:"inline-block",width:"400px",height:"100px"},row:{display:"flex",alignItems:"center"},title:{marginTop:16,marginLeft:16}});function F(e){var a=z();return r.a.createElement(x.a,{className:null===e.data?a.listNotLoaded:a.list},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary",className:e.homePage?"":a.title},e.title),null===e.data?r.a.createElement(T.a,null):r.a.createElement(x.a,null,e.data.length>0&&null!==e.data[0]?e.data.slice(0,e.limit).map((function(a,t){return r.a.createElement(H,{key:t,dataType:e.dataType,data:a})})):r.a.createElement(S.a,{elevation:0},r.a.createElement(k.a,{className:e.homePage?"":a.title,variant:"h5",gutterBottom:!0,color:"textSecondary"},"No Results Found"))))}var Y=t(77),K=t(164),V=t(147),J=Object(v.a)({searchBarMain:{display:"inline-flex",paddingRight:"1%",width:"50%"},searchBarAppBar:{display:"inline-flex",paddingRight:"1%",maxWidth:"25%"}});function X(e){var a=J(),t=Object(n.useState)(e.query?e.query:""),c=Object(i.a)(t,2),l=c[0],o=c[1];return r.a.createElement(Y.a,{className:e.main?a.searchBarMain:a.searchBarAppBar},r.a.createElement(L.a,{title:"Search"},r.a.createElement(M.a,{href:"".concat(y.homePageURL,"/search/").concat(encodeURIComponent(l)),disabled:""===l,"aria-label":"Search"},r.a.createElement(V.a,null))),r.a.createElement(K.a,{value:l,onChange:function(e){o(e.target.value)},placeholder:"Search",fullWidth:!0,onKeyDown:function(e){13===e.keyCode&&""!==l&&(e.preventDefault(),window.location.href="".concat(y.homePageURL,"/search/").concat(encodeURIComponent(l)))}}))}var Q=Object(v.a)({searchBox:{textAlign:"center",padding:"5vh 0"},recommendationGrid:{width:"90%",margin:"0 auto 5vh auto"}});function Z(){var e,a=Q(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(null),E=Object(i.a)(p,2),h=E[0],f=E[1],g=Object(n.useState)(!1),y=Object(i.a)(g,2),v=y[0],S=y[1],k=Object(n.useState)(!1),j=Object(i.a)(k,2),w=j[0],O=j[1],I=Object(n.useState)(!1),N=Object(i.a)(I,2),T=N[0],A=N[1];return b.handleLogin(),v||(S(!0),b.apiRequest("GET","https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=50",sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data.items)}))),T||(A(!0),b.apiRequest("GET","https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=50",sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){d(e.data.items)}))),l&&!w&&(O(!0),b.apiRequest("GET","https://api.spotify.com/v1/albums?ids=".concat(encodeURIComponent((e=function(e){var a=[],t=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var i=c.value;"ALBUM"!==i.album.album_type||a.includes(i.album.id)||a.push(i.album.id)}}catch(o){n=!0,r=o}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}return a}(l),e.slice(1).reduce((function(e,a){return"".concat(e,",").concat(a)}),e[0])))),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){f(e.data.albums)}))),r.a.createElement("div",null,r.a.createElement(x.a,{className:a.searchBox},r.a.createElement(X,{main:!0})),r.a.createElement(G.a,{container:!0,justify:"space-around",spacing:3,className:a.recommendationGrid},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,homePage:!0,title:"Tracks",dataType:"track",data:l})),r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,homePage:!0,title:"Albums",dataType:"album",data:h})),r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,homePage:!0,title:"Artists",dataType:"artist",data:u}))))}var $=t(148),ee=Object(v.a)({card:{display:"flex"},image:{height:"30vh",width:"30vh"},infoContainer:{margin:"auto 20px",overflowX:"auto",flex:1},artistName:{display:"inline"}});function ae(e){var a=ee();return null===e.name?r.a.createElement(S.a,null,r.a.createElement(T.a,null)):r.a.createElement(S.a,{className:a.card},0!==e.images.length?r.a.createElement(C.a,{className:a.image,image:e.images[0].url,title:e.subtitle||e.trackAlbum?"Album Art":"Artist"}):r.a.createElement(B.a,{className:a.image},r.a.createElement(_.a,{className:a.image})),r.a.createElement(x.a,{className:a.infoContainer},r.a.createElement(k.a,{noWrap:!0,variant:"h1"},e.name),r.a.createElement(x.a,null,e.trackAlbum&&r.a.createElement(k.a,{noWrap:!0,variant:"h4",color:"textSecondary"},r.a.createElement($.a,{color:"inherit",href:"".concat(y.homePageURL,"/album/").concat(e.trackAlbum.id)},e.trackAlbum.name))),r.a.createElement(x.a,null,e.artists&&e.artists.map((function(e,t){return r.a.createElement(k.a,{key:t,noWrap:!0,variant:"h4",className:a.artistName,color:"textSecondary"},r.a.createElement($.a,{color:"inherit",href:"".concat(y.homePageURL,"/artist/").concat(e.id)},"".concat(0!==t?", ":"").concat(e.name)))}))),r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.subtitle)))}var te=Object(v.a)({artistImage:{height:0,paddingTop:"100%"},artistPlaceHolder:{width:"100%",height:"100%"}});function ne(e){var a=te(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1];return u||null===e.album||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/artists/".concat(e.album.artists[0].id),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data)}))),null===l?r.a.createElement(S.a,null,r.a.createElement(T.a,null)):r.a.createElement(S.a,null,l.images.length>0?r.a.createElement(C.a,{className:a.artistImage,image:l.images[0].url,title:"Artist"}):r.a.createElement(B.a,{className:a.artistPlaceHolder},r.a.createElement(_.a,{className:a.artistPlaceHolder})),r.a.createElement(W.a,null,r.a.createElement(k.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Artist"),r.a.createElement(k.a,{variant:"h5"},l.name)),r.a.createElement(P.a,null,r.a.createElement(j.a,{href:"".concat(y.homePageURL,"/artist/").concat(l.id),color:"primary"},"More Info")))}var re=Object(v.a)({artistImage:{height:0,paddingTop:"100%"},dataName:{marginRight:10}});function ce(e){var a=re(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1];return u||null===e.track||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/albums/".concat(e.track.album.id),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data)}))),null===l?r.a.createElement(S.a,null,r.a.createElement(T.a,null)):r.a.createElement(S.a,null,l.images.length>0?r.a.createElement(C.a,{className:a.artistImage,image:l.images[0].url,title:"Album"}):r.a.createElement(B.a,null,r.a.createElement(_.a,null)),r.a.createElement(W.a,null,r.a.createElement(k.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Album"),r.a.createElement(k.a,{variant:"h5"},l.name),r.a.createElement(x.a,null,r.a.createElement(k.a,{variant:"h5",className:a.dataName,display:"inline"},"Duration"),r.a.createElement(k.a,{variant:"h5",color:"textSecondary",display:"inline"},function(e){var a=Math.floor(e/1e3),t=Math.floor(a/3600),n=Math.floor(a/60)%60,r=a-60*n-3600*t;return"".concat(t>0?"".concat(t,":"):"").concat(t>0?("0"+n).slice(-2):n,":").concat(("0"+r).slice(-2))}(l.tracks.items.map((function(e){return e.duration_ms})).reduce((function(e,a){return e+a}),0)))),r.a.createElement(x.a,null,r.a.createElement(k.a,{variant:"h5",className:a.dataName,display:"inline"},"Track Number"),r.a.createElement(k.a,{variant:"h5",color:"textSecondary",display:"inline"},e.track.track_number)),r.a.createElement(x.a,null,r.a.createElement(k.a,{variant:"h5",className:a.dataName,display:"inline"},"Year"),r.a.createElement(k.a,{variant:"h5",color:"textSecondary",display:"inline"},l.release_date.slice(0,4)))),r.a.createElement(P.a,null,r.a.createElement(j.a,{href:"".concat(y.homePageURL,"/album/").concat(l.id),color:"primary"},"More Info")))}var le=t(149),ie=t(166),oe=t(150),se=t(163),me=t(151),ue=Object(v.a)((function(e){return{cardContainer:{padding:5},cardTitle:{padding:"16px 0 0 16px"},dataWithInfo:{display:"flex"},typography:{padding:e.spacing(2)},icon:{marginLeft:"5%"},popover:{maxWidth:"30%"}}}));function de(e){var a=ue(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),h=E[0],f=E[1],g=Object(n.useState)(null),y=Object(i.a)(g,2),v=y[0],x=y[1],j=function(e,a){f(a),x(e.currentTarget)};return u||null===e.track||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/audio-features/".concat(e.track.id),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data)}))),null===e.track||null===l?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Audio Features"),r.a.createElement(T.a,null)):r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary",className:a.cardTitle},"Audio Features"),r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Key")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},"".concat(["C","D\u266d","D","E\u266d","E","F","G\u266d","G","A\u266d","A","B\u266d","B"][l.key]," ").concat(["Minor","Major"][l.mode]))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Time Signature")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},l.time_signature)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Acousticness"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Acousticness")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.acousticness))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Danceability"),r.a.createElement(M.a,{onClick:function(e){return j(e,"Danceability")},size:"small",className:a.icon},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.danceability))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Energy"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Energy")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.energy))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Instrumentalness"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Instrumentalness")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.instrumentalness))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Liveness"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Liveness")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.liveness))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Loudness")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},"".concat(Math.round(l.loudness)," dB"))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Speechiness"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Speechiness")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.speechiness))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0,className:a.dataWithInfo},r.a.createElement(k.a,{variant:"h5"},"Happiness"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){return j(e,"Happiness")},size:"small"},r.a.createElement(me.a,null))),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},Math.round(100*l.valence))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Tempo")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},"".concat(Math.round(l.tempo)," BPM")))))),r.a.createElement(se.a,{open:Boolean(v),anchorEl:v,onClose:function(){f(""),x(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:a.popover}},r.a.createElement(k.a,{className:a.typography,variant:"h4"},h),r.a.createElement(k.a,{className:a.typography,variant:"body1"},{Acousticness:"A confidence measure from 0 to 100 of whether the track is acoustic. 100 represents high confidence the track is acoustic.",Danceability:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0 is least danceable and 100 is most danceable.",Energy:"Energy is a measure from 0 to 100 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.",Instrumentalness:"Predicts whether a track contains no vocals. \u201cOoh\u201d and \u201caah\u201d sounds are treated as instrumental in this context. Rap or spoken word tracks are clearly \u201cvocal\u201d. The closer the instrumentalness value is to 100, the greater likelihood the track contains no vocal content. Values above 50 are intended to represent instrumental tracks, but confidence is higher as the value approaches 100.",Liveness:"Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 80 provides strong likelihood that the track is live.",Speechiness:"Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 100 the attribute value. Values above 66 describe tracks that are probably made entirely of spoken words. Values between 33 and 66 describe tracks that may contain both music and speech, either in sections or layered, including such cases as rap music. Values below 33 most likely represent music and other non-speech-like tracks.",Happiness:"A measure from 0 to 100 describing the musical positiveness conveyed by a track. Tracks with high happiness sound more positive (e.g. cheerful, euphoric), while tracks with low happiness sound more negative (e.g. sad, depressed, angry)."}[h])))}var pe=Object(v.a)((function(e){return{cardContainer:{padding:5},cardTitle:{padding:"16px 0 0 16px"}}}));function Ee(e){var a=pe();return null===e.track?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Genral Info"),r.a.createElement(T.a,null)):r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary",className:a.cardTitle},"Genral Info"),r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Duration")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},function(e){var a=Math.floor(e/1e3),t=Math.floor(a/3600),n=Math.floor(a/60)%60,r=a-60*n-3600*t;return"".concat(t>0?"".concat(t,":"):"").concat(t>0?("0"+n).slice(-2):n,":").concat(("0"+r).slice(-2))}(e.track.duration_ms))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Explicit")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.track.explicit?"Yes":"No")))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Popularity")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.track.popularity)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Release Date")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.track.album.release_date)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Markets")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.track.available_markets.length))))))}var he=t(154),fe=t(152),ge=t(153),ye=Object(v.a)({container:{display:"flex",alignItems:"center"},progressBar:{width:"100%",marginRight:12,borderRadius:1e3}});function be(e){var a=ye(),t=Object(n.useState)(e.section.start),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=null;Object(n.useEffect)((function(){if(!(l<e.section.start||l>e.section.start+e.section.duration)){var a=setInterval((function(){null!==e.player&&e.player.getCurrentState().then((function(a){if(a){var t=a.position,n=a.playerPaused;t/1e3>e.section.start+e.section.duration||t/1e3<e.section.start?(d(!0),o(e.section.start)):t/1e3<e.section.start+e.section.duration&&t/1e3>e.section.start&&u&&!n?E():o(t/1e3)}}))}),100);return function(){return clearInterval(a)}}u||E()}));var E=function(){e.playerReady&&(d(!0),clearInterval(p),e.player.pause())};return r.a.createElement("div",{className:a.container},u?r.a.createElement(M.a,{color:"primary",onClick:function(){e.playerReady&&b.apiRequest("PUT","https://api.spotify.com/v1/me/player/play?device_id=".concat(e.player._options.id),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{uris:[e.uri],position_ms:1e3*e.section.start}).then((function(){o(e.section.start),d(!1),p=setInterval((function(){l>e.section.start+e.section.duration&&(E(),clearInterval(p))}),200)}))}},r.a.createElement(fe.a,null)):r.a.createElement(M.a,{color:"primary",onClick:E},r.a.createElement(ge.a,null)),r.a.createElement(he.a,{variant:"determinate",className:a.progressBar,value:100*(l-e.section.start)/e.section.duration}))}var ve=Object(v.a)((function(e){return{card:{lineHeight:0,borderRadius:0,width:"100%"},cardOpen:{height:"auto"},sectionTitle:{marginRight:10},cardHeader:{display:"inline-flex",width:"100%"},cardContent:{"&:last-child":{paddingBottom:"16px"}},dataImage:{height:"10vh",minHeight:"100px",width:"10vh",minWidth:"100px"},details:{margin:"auto 10px",flex:1,overflowX:"auto"},collapsedDataEntry:{width:"50%",display:"inline-block"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},moreInfoButton:{position:"relative",right:0}}}));function Se(e){var a=ve(),t=Object(n.useState)(!1),c=Object(i.a)(t,2),l=c[0],o=c[1],s=function(e){var a=Math.floor(e/3600),t=Math.floor(e/60)%60,n=Math.floor(e-60*t-3600*a);return"".concat(a>0?"".concat(a,":"):"").concat(a>0?("0"+t).slice(-2):t,":").concat(("0"+n).slice(-2))};return r.a.createElement(S.a,{className:Object(R.a)(a.card,Object(A.a)({},a.cardOpen,l)),elevation:0},r.a.createElement(x.a,{className:a.cardHeader},r.a.createElement(x.a,{className:a.details},r.a.createElement(k.a,{noWrap:!0,display:"inline",className:a.sectionTitle,variant:"h5"},"Section ".concat(e.index+1)),r.a.createElement(k.a,{noWrap:!0,variant:"h5",display:"inline",color:"textSecondary"},function(e){var a=e.start+e.duration;return"".concat(s(e.start)," - ").concat(s(a))}(e.section))),r.a.createElement(P.a,{disableSpacing:!0},r.a.createElement(M.a,{className:Object(R.a)(a.expand,Object(A.a)({},a.expandOpen,l)),onClick:function(){o(!l)},"aria-expanded":l,"aria-label":"show more"},r.a.createElement(D.a,null)))),r.a.createElement(be,{player:e.player,section:e.section,uri:e.uri,playerReady:e.playerReady}),r.a.createElement(U.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(W.a,{className:a.cardContent},r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Duration "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},s(e.section.duration))),r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Confidence "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},Math.round(100*e.section.confidence))),r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Loudness "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},"".concat(Math.round(e.section.loudness)," dB"))),r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Tempo "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},"".concat(Math.round(e.section.tempo)," BPM"))),r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Key "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},"".concat(["C","D\u266d","D","E\u266d","E","F","G\u266d","G","A\u266d","A","B\u266d","B"][e.section.key]," ").concat(["Minor","Major"][e.section.mode]))),r.a.createElement(x.a,{className:a.collapsedDataEntry},r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline"},"Time Signature "),r.a.createElement(k.a,{noWrap:!0,variant:"subtitle1",display:"inline",color:"textSecondary"},e.section.time_signature)))))}var ke=Object(v.a)((function(e){return{listNotLoaded:{display:"inline-block",width:"400px",height:"100px"},row:{display:"flex",alignItems:"center"},titleBox:{marginTop:21,marginLeft:21,display:"flex",alignItems:"center"},icon:{marginLeft:"3%"},typography:{padding:e.spacing(2)},popover:{maxWidth:"30%"}}}));function xe(e){var a=ke(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(null),E=Object(i.a)(p,2),h=E[0],f=E[1];return u||null===e.track||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/audio-analysis/".concat(e.track.id),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data.sections)}))),r.a.createElement(S.a,{className:null===e.data?a.listNotLoaded:a.list},r.a.createElement(x.a,{className:a.titleBox},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},"Audio Analysis"),r.a.createElement(M.a,{className:a.icon,onClick:function(e){f(e.currentTarget)},size:"small"},r.a.createElement(me.a,null)),r.a.createElement(se.a,{open:Boolean(h),anchorEl:h,onClose:function(){f(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:a.popover}},r.a.createElement(k.a,{className:a.typography,variant:"h4"},"Audio Analysis"),r.a.createElement(k.a,{className:a.typography,variant:"body1"},"Audio Analysis provides low-level audio analysis for all of the tracks in the Spotify catalog."),r.a.createElement(k.a,{className:a.typography,variant:"body1"},"Sections are defined by large variations in rhythm or timbre, e.g. chorus, verse, bridge, guitar solo, etc. Each section contains its own descriptions of tempo, key, time signature, and loudness."))),null===e.data||null===l?r.a.createElement(T.a,null):r.a.createElement(x.a,null,l.length>0&&null!==l[0]?l.map((function(a,t){return r.a.createElement("div",{key:t},r.a.createElement(Se,{index:t,player:e.player,section:a,uri:e.track.uri,playerReady:e.playerReady}),r.a.createElement(oe.a,null))})):r.a.createElement(S.a,{elevation:0},r.a.createElement(k.a,{className:a.title,variant:"h5",gutterBottom:!0,color:"textSecondary"},"No Results Found"))))}var je=Object(v.a)({gridContainer:{width:"90%",margin:"10px auto"}});function we(){var e,a=Object(s.g)().id,t=je(),c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],E=d[1],h=Object(n.useState)(null),f=Object(i.a)(h,2),g=f[0],v=f[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),x=k[0],j=k[1],w=Object(n.useState)(!1),O=Object(i.a)(w,2),I=O[0],N=O[1];return b.isLoggedIn()||(window.location.href=y.homePageURL),p||(E(!0),b.apiRequest("GET","https://api.spotify.com/v1/tracks/".concat(a),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){m(e.data)}))),x||(j(!0),e=setInterval((function(){!function(a,t){if(null!==window.Spotify&&void 0!==window.Spotify){var n=new window.Spotify.Player({name:a,getOAuthToken:function(e){e(t)}});clearInterval(e),n.connect().then((function(e){e&&(console.log("Successful"),n.on("ready",(function(){N(!0)})))})),v(n)}}("Test",sessionStorage.getItem("musicInfoSpotifyAccessToken"))}),500)),r.a.createElement(G.a,{container:!0,spacing:3,justify:"center",className:t.gridContainer},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(ae,{name:o?o.name:null,artists:o?o.artists:null,trackAlbum:o?o.album:null,images:o?o.album.images:null})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ce,{track:o})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ne,{album:o||null})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Ee,{track:o})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(de,{track:o})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(xe,{track:o,player:g,playerReady:I})))}var Oe=Object(v.a)((function(e){return{cardContainer:{padding:5,paddingBottom:21},cardTitle:{padding:"16px 0 0 16px"},nested:{paddingLeft:e.spacing(4)},nestedItem:{padding:0}}}));function Ie(e){var a=Oe();return null===e.artist?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Genral Info"),r.a.createElement(T.a,null)):r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary",className:a.cardTitle},"Genral Info"),r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Followers")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},e.artist.followers.total.toLocaleString())))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Popularity")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.artist.popularity)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Genres:"))))),r.a.createElement(le.a,{disablePadding:!0,className:a.nested},e.artist.genres.length>0?r.a.createElement(x.a,null,r.a.createElement(ie.a,{disableGutters:!0,className:a.nestedItem},r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.artist.genres[0]))))):r.a.createElement(r.a.Fragment,null),e.artist.genres.slice(1).map((function(e,t){return r.a.createElement(x.a,{key:t},r.a.createElement(oe.a,null),r.a.createElement(ie.a,{disableGutters:!0,className:a.nestedItem},r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e)))))}))))}var Ne=Object(v.a)((function(e){return{cardContainer:{padding:5}}}));function Te(e){var a=Ne(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1];return u||null===e||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/artists/".concat(e.id,"/top-tracks?country=from_token"),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data)}))),null===e||null===l?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Top Tracks"),r.a.createElement(T.a,null)):r.a.createElement(S.a,null,r.a.createElement(F,{limit:10,data:l.tracks,title:"Top Tracks",dataType:"track"}))}var Ae=Object(v.a)((function(e){return{cardContainer:{padding:5}}}));function Re(e){var a=Ae(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1];return u||null===e||(d(!0),b.apiRequest("GET","https://api.spotify.com/v1/artists/".concat(e.id,"/albums?include_groups=album&country=from_token"),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){var a,t=e.data.items.map((function(e){return e.id}));b.apiRequest("GET","https://api.spotify.com/v1/albums?ids=".concat(encodeURIComponent((a=t,a.slice(1).reduce((function(e,a){return"".concat(e,",").concat(a)}),a[0])))),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data.albums)}))}))),null===e||null===l?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Albums"),r.a.createElement(T.a,null)):r.a.createElement(S.a,null,r.a.createElement(F,{limit:1e3,data:l,title:"Albums",dataType:"album"}))}var Ce=Object(v.a)({gridContainer:{width:"90%",margin:"10px auto"}});function Be(){var e=Object(s.g)().id,a=Ce(),t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1];return b.isLoggedIn()||(window.location.href=y.homePageURL),d||(p(!0),b.apiRequest("GET","https://api.spotify.com/v1/artists/".concat(e),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){o(e.data)}))),r.a.createElement(G.a,{container:!0,spacing:3,justify:"center",className:a.gridContainer},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(ae,{name:l?l.name:null,images:l?l.images:null})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Ie,{artist:l})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Te,{id:e})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Re,{id:e})))}var Le=Object(v.a)((function(e){return{cardContainer:{padding:5,paddingBottom:16},cardTitle:{padding:"16px 0 0 16px"},nested:{paddingLeft:e.spacing(4)},nestedItem:{padding:0}}}));function Pe(e){var a=Le();return null===e.album?r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Genral Info"),r.a.createElement(T.a,null)):r.a.createElement(S.a,{className:a.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary",className:a.cardTitle},"Genral Info"),r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Tracks")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.album.total_tracks)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Duration")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},function(e){var a=Math.floor(e/1e3),t=Math.floor(a/3600),n=Math.floor(a/60)%60,r=a-60*n-3600*t;return"".concat(t>0?"".concat(t,":"):"").concat(t>0?("0"+n).slice(-2):n,":").concat(("0"+r).slice(-2))}(e.album.tracks.items.map((function(e){return e.duration_ms})).reduce((function(e,a){return e+a}),0)))))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Popularity")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.album.popularity)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Release Date")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.album.release_date)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Markets")),r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.album.available_markets.length)))),r.a.createElement(oe.a,null),r.a.createElement(ie.a,null,r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5"},"Genres:"))))),r.a.createElement(le.a,{disablePadding:!0,className:a.nested},e.album.genres.length>0?r.a.createElement(x.a,null,r.a.createElement(ie.a,{disableGutters:!0,className:a.nestedItem},r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},e.album.genres[0]))))):r.a.createElement(ie.a,{disableGutters:!0,className:a.nestedItem},r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"No Genres Found")))),e.album.genres.slice(1).map((function(e,t){return r.a.createElement(x.a,{key:t},r.a.createElement(oe.a,null),r.a.createElement(ie.a,{disableGutters:!0,className:a.nestedItem},r.a.createElement(G.a,{container:!0,justify:"space-between"},r.a.createElement(G.a,{item:!0},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},e)))))}))))}var Me=Object(v.a)((function(e){return{cardContainer:{padding:5}}}));function Ue(e){var a,t=Me(),c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1];if(!d&&null!==e.album){p(!0);var E=e.album.tracks.items.map((function(e){return e.id}));b.apiRequest("GET","https://api.spotify.com/v1/tracks?ids=".concat(encodeURIComponent((a=E,a.slice(1).reduce((function(e,a){return"".concat(e,",").concat(a)}),a[0])))),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){s(e.data.tracks)}))}return null===e.album?r.a.createElement(S.a,{className:t.cardContainer},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0,color:"textSecondary"},"Tracks"),r.a.createElement(T.a,null)):r.a.createElement(S.a,null,r.a.createElement(F,{limit:50,data:o,title:"Tracks",dataType:"track"}))}var We=Object(v.a)({gridContainer:{width:"90%",margin:"10px auto"}});function Ge(){var e,a=Object(s.g)().id,t=We(),c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],E=d[1];return b.isLoggedIn()||(window.location.href=y.homePageURL),p||(E(!0),b.apiRequest("GET","https://api.spotify.com/v1/albums/".concat(a),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){m(e.data)}))),r.a.createElement(G.a,{container:!0,spacing:3,justify:"center",className:t.gridContainer},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(ae,{name:o?o.name:null,artists:o?o.artists:null,subtitle:o?(e=o,e.release_date.slice(0,4)):null,images:o?o.images:null})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ne,{album:o})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Pe,{album:o})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Ue,{album:o})))}var _e=Object(v.a)({searchBox:{textAlign:"center",padding:"5vh 0"},recommendationGrid:{width:"90%",margin:"0 auto 5vh auto"}});function De(){var e,a=Object(s.g)().query,t=_e(),c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)(null),d=Object(i.a)(u,2),p=d[0],E=d[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),g=f[0],v=f[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),j=k[0],w=k[1];return b.isLoggedIn()||(window.location.href=y.homePageURL),g||(v(!0),b.apiRequest("GET","https://api.spotify.com/v1/search?q=".concat(a,"&type=artist%2Calbum%2Ctrack"),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){m(e.data)}))),o&&!j&&(w(!0),b.apiRequest("GET","https://api.spotify.com/v1/albums?market=from_token&ids=".concat(encodeURIComponent((e=function(e){var a=[],t=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var i=c.value;"album"!==i.album_type.toLowerCase()||a.includes(i.id)||a.push(i.id)}}catch(o){n=!0,r=o}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}return a}(o.albums.items),e.slice(1).reduce((function(e,a){return"".concat(e,",").concat(a)}),e[0])))),sessionStorage.getItem("musicInfoSpotifyAccessToken"),{}).then((function(e){E(e.data.albums)}))),r.a.createElement("div",null,r.a.createElement(x.a,{className:t.searchBox},r.a.createElement(X,{main:!0,query:a})),r.a.createElement(G.a,{container:!0,justify:"space-around",spacing:3,className:t.recommendationGrid},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,title:"Tracks",dataType:"track",data:null===o?null:o.tracks.items})),r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,title:"Albums",dataType:"album",data:p})),r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(F,{limit:10,title:"Artists",dataType:"artist",data:null===o?null:o.artists.items}))))}var qe=Object(v.a)({container:{margin:36,padding:"48px 48px 0 48px"},section:{margin:"24px 0"}});function He(){var e=qe();return r.a.createElement(S.a,{className:e.container},r.a.createElement(k.a,{variant:"h4",gutterBottom:!0},"About Musipedia"),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"Musipedia is a site that gives Spotify users access to any track, artist, or album available in the Spotify library. Due to the use of Spotify's web API, a valid Spotify account is required to use this application."),r.a.createElement(x.a,{className:e.section},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Artists"),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"An artist page will give you information about, as you can probably guess, an artist. You will be able to explore their top tracks, discography, and bits of general information about them, such as how many Spotify followers they have, how popular they are, and what genres they're associated with. Click the button below to be taken to an artist's page!"),r.a.createElement(j.a,{color:"primary",href:"".concat(y.homePageURL,"/artist/6eUKZXaKkcviH0Ku9w2n3V")},"Artist Page")),r.a.createElement(x.a,{className:e.section},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Albums"),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"The album page allows you to explore an album's artist, the track list, and some general bits of relevant information, such as the number of tracks, the duration, and the release date. Click the button below to be taken to an album's page!"),r.a.createElement(j.a,{color:"primary",href:"".concat(y.homePageURL,"/album/4LH4d3cOWNNsVw41Gqt2kv")},"Album Page")),r.a.createElement(x.a,{className:e.section},r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Tracks"),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"The track page gives you the ability to explore a track's album, it's artist, and general bits of information including a track's duration, it's popularity, and it's release date. Audio features are also made available, such as the track's key, tempo, and loudness. Spotify's audio analysis abilities are also used to split a track up into sections (ex. verse, chorus, etc.). You have the ability to listen to each section of the track, as well as find information about it, such as key, tempo, and loudness."),r.a.createElement(j.a,{color:"primary",href:"".concat(y.homePageURL,"/track/7oK9VyNzrYvRFo7nQEYkWN")},"Track Page")))}var ze=t(74),Fe=t(155),Ye=t(156),Ke=t(157),Ve=t(158),Je=t(159),Xe=t(160),Qe=t(161),Ze=(t(112),Object(v.a)({titleBox:{flex:1},titleText:{display:"inline-flex",marginRight:"2%",cursor:"pointer"}}));var $e=function(){var e=Ze(),a=Object(n.useState)(null!==localStorage.getItem("musicInfoTheme")?localStorage.getItem("musicInfoTheme"):"light"),t=Object(i.a)(a,2),c=t[0],l=t[1],m=Object(ze.a)({palette:{type:c,primary:{main:"#C71585"}}});return r.a.createElement(Fe.a,{theme:m},r.a.createElement(Ye.a,null),r.a.createElement(Ke.a,{position:"sticky"},r.a.createElement(Ve.a,null,r.a.createElement(x.a,{className:e.titleBox},r.a.createElement(k.a,{variant:"h4",className:e.titleText,onClick:function(){"/"!==window.location.pathname&&"/page-not-found"!==window.location.pathname?window.location.href="".concat(y.homePageURL,"/home"):window.location.href=y.homePageURL}},"Musipedia"),function(){var e,a=window.location.pathname.split("/");return e=0===a.length?"/":"/".concat(a[1]),!["/","/page-not-found","/home","/search"].includes(e)}()&&r.a.createElement(X,null)),r.a.createElement(L.a,{title:"About"},r.a.createElement(M.a,{edge:"end",color:"inherit","aria-label":"About",onClick:function(){window.location.href="".concat(y.homePageURL,"/about")}},r.a.createElement(me.a,null))),r.a.createElement(L.a,{title:"Toggle light/dark theme"},r.a.createElement(M.a,{edge:"end",color:"inherit","aria-label":"Toggle light/dark theme",onClick:function(){"light"===c?(localStorage.setItem("musicInfoTheme","dark"),l("dark")):(localStorage.setItem("musicInfoTheme","light"),l("light"))}},"light"===c?r.a.createElement(Je.a,null):r.a.createElement(Xe.a,null))),function(){var e,a=window.location.pathname.split("/");return e=0===a.length?"/":"/".concat(a[1]),!["/","/page-not-found"].includes(e)}()&&r.a.createElement(L.a,{title:"Log out"},r.a.createElement(M.a,{edge:"end",color:"inherit","aria-label":"Log out",onClick:function(){sessionStorage.clear(),window.location.href=y.homePageURL}},r.a.createElement(Qe.a,null))))),r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/musipedia/"},r.a.createElement(O,null)),r.a.createElement(s.b,{path:"/musipedia/home"},r.a.createElement(Z,null)),r.a.createElement(s.b,{path:"/musipedia/about"},r.a.createElement(He,null)),r.a.createElement(s.b,{path:"/musipedia/track/:id"},r.a.createElement(we,null)),r.a.createElement(s.b,{path:"/musipedia/album/:id"},r.a.createElement(Ge,null)),r.a.createElement(s.b,{path:"/musipedia/artist/:id"},r.a.createElement(Be,null)),r.a.createElement(s.b,{path:"/musipedia/search/:query"},r.a.createElement(De,null)),r.a.createElement(s.b,{path:"/musipedia/page-not-found"},r.a.createElement(N,null)),r.a.createElement(s.a,{from:"*",to:"/musipedia/page-not-found"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,a,t){e.exports=t(113)},89:function(e,a,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.80ec4fee.chunk.js.map